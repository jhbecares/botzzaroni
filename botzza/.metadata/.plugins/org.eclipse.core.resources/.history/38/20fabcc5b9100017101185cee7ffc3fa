/*--- ficheros de cabecera ---*/
#include "44blib.h"
#include "44b.h"
#include "def.h"
#include "mainstates.h"
/*--- variables globales ---*/

int symbol = 0;
/*--- funciones externas ---*/
//extern void D8Led_Symbol(int value);
/*--- declaracion de funciones ---*/
void Eint4567_ISR(void) __attribute__ ((interrupt ("IRQ")));


int current_symbol = 0;
void Eint4567_ISR() // al pulsar uno de los dos botones lo que hacemos es resetear el sistema
// entero para que el usuario vuelva a empezar de 0 a hacer cosas.
{
  //Identificar la interrupcion
  int which_int = rEXTINTPND;
  // Actualizar simbolo
  switch (which_int) {
  case 4: // 0100 -> Suponemos boton izqdo
	  if (get_current_state() == S1)) {

	  }
	  switch (get_current_state()) {
	  case S1:

		  break;
	  case S2:

		  break;
	  case S3:

		  break;
	  case S4:

		  break;

	  case S5:

		  break;
	  default:

		  break;
	  }
	  break;
  case 8: // 1000 // boton derecho
	// en cualquier momento el usuario puede pulsar el boton derecho y el
	  // sistema sera capaz de leer de la EEPROM la palabra que este
	  // en la ultima direccion introducida y mostrarla en el 8 segmentos

    break;
  }


  // borra los bits en EXTINTPND
  rEXTINTPND = rEXTINTPND | 0xC;
  // borra el bit pendiente en INTPND
  rI_ISPC = BIT_EINT4567;
}


